# Спецоперация по архивированию интернетов

В связи с шаткостью положения нашей страны в глобальной паутине
предлагаю преступить к реализации плана по архивированию забугорных информационных ресурсов.

# Как архивировать?

## Выгрузка сайта

Самый простой способ скачать сайт программой wget, которая присутсвует почти
в любом дистрибутиве Linux:

```sh
wget --mirror -p --convert-links -P . xyz.com
```

Объяснение:

1. `--mirror` - скачать сайт целиком
2. `-p` - загрузить все файлы необходимые для корректного отображения страницы
3. `--convert-links` - заменить ссылки на странице, для возможности локальной навигации
3. `-P .` - путь сохранения, в данном случае в текущую директорию (`./xyz.com`)

## Скачка по набору url

Последняя часть (имя файла) в ссылках должна быть уникально, иначе последующие файлы перезапишут предыдущие.

Сохранить все url в файл (каждая ссылка с новой строки).

Перейти в директорию, в которую всё будет скачиваться. Выполнить комманду:

```sh
wget -i файл_с_url
```

## Хостинг

### На своем сервере
Для того, чтобы другие люди могли просматривать сайт, необходимо его где-то хостить
если у вас есть сервер, можете разместить копию сайта там.

### IPFS

Однако в наше время не обязательно быть серверным лордом, чтобы хостить сайт,
хватит и вашего персонального компьютера. Итак, представляю вам чудо инженерной
мысли - [IPFS](https://ipfs.io). Это децентрализованная p2p файловая система.

Есть как минимум две версии ноды IPFS:

- IPFS Destop (юзер-френдли GUI оболочка)
- IPFS cli (более для нердов командной строки)

Обе версии представлены на сайте.

Всё что нужно, чтобы хостить в сайт с помощью IPFS Desktop:

1. Скачать и запустить IPFS Desktop
2. На вкладке Files нажать кнопку `Import` и выбрать вариант `Folder`
3. Далее в окне навигации выберите папку `xyz.com` с сохраненным ранее сайтом
4. После импорта вы можете скопировать ссылку, нажав на троеточие рядом
рядом с именем файла и выбрав `Share link`, которую вы можете отправить своим товарищам,
чтобы они могли посмотреть, что вы там насохраняли.

Для того чтобы файл оставался на вашей ноде постоянно, не забудьте поставить Pinning
в вышеупомянутом меню опцией `Set pinning`

Действия для CLI версии:

1. Смените текущую директорию на место куда вы сохранили сайт к примеру:
```sh
cd ~/archive/xyz.com
```
2. Запустите команду
```sh
ipfs add -r .
``` 
Это выведет в терминал кучу CIDов, последний из них указывает на директорию целиком, вы можете делиться ссылкой вида `https://ipfs.io/ipfs/<CID>`

### BitTorrent

Еще одна децентрализованная сеть, для обмена файлами.
Менее оптимальна чем IPFS для данной задачи, но тоже пойдет.

Пример создания торрента на примере клиента [qBitorrent](https://www.qbittorrent.org):

1. В меню `Сервис` выберите опцию `Создать торрент`, или нажмите сочетание клавиш `Ctrl + N`
2. Введите путь к файлу или папке, которые хотите раздавать
3. Включите галку `Начать раздачу сразу`
4. Введите адреса трекеров, чем больше тем лучше

Список трекеров может быть взят отсюда: https://github.com/ngosang/trackerslist
